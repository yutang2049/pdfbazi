<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第四章测验：天干相冲相合</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/scorm_api.js"></script>
    <script src="js/quiz.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>第四章测验：天干相冲相合</h1>
        </header>

        <main>
            <div id="quiz-container">
                <!-- Quiz questions will be rendered here by QuizEngine -->
            </div>

            <div id="quiz-results" style="display: none;">
                <!-- Results will be rendered here by QuizEngine -->
            </div>

            <div class="button-group">
                <button class="btn btn-primary" onclick="QuizEngine.submit()">提交答案</button>
                <button class="btn btn-secondary" onclick="QuizEngine.reset()">重新作答</button>
                <a href="module05.html" class="btn btn-success">下一章</a>
            </div>
        </main>
    </div>

    <script>
        // Quiz questions array
        const quizQuestions = [
            {
                question: '天干相冲中，"甲"与哪个天干相冲？',
                options: ["乙", "庚", "壬", "己"],
                correct: 1,
                explanation: "甲木与庚金相冲，属于五行相克（金克木）的关系。"
            },
            {
                question: '天干合化中，"甲己合化"成什么？',
                options: ["金", "木", "土", "水"],
                correct: 2,
                explanation: "甲己合化土。甲为阳木，己为阴土，合化为土。"
            },
            {
                question: '"乙庚合化"成什么五行？',
                options: ["火", "水", "金", "土"],
                correct: 2,
                explanation: "乙庚合化金。乙为阴木，庚为阳金，合化为金。"
            },
            {
                question: '天干"丙壬相冲"的主要原因是什么？',
                options: ["方位对冲", "五行相克", "阴阳不和", "数字对冲"],
                correct: 1,
                explanation: "丙火与壬水相冲，是因为水克火的五行相克关系。"
            },
            {
                question: '"丁壬合化"成什么五行？',
                options: ["土", "金", "水", "木"],
                correct: 3,
                explanation: "丁壬合化木。丁为阴火，壬为阳水，合化为木。"
            },
            {
                question: "天干合化成功的最重要条件是什么？",
                options: ["两个天干必须相邻", "必须得到月令的旺气支持", "两个天干必须阴阳相同", "必须在年柱出现"],
                correct: 1,
                explanation: "天干合化成功需要得到月令的旺气支持，否则只是相合而不能真正化气。"
            },
            {
                question: "天干冲克对命局的主要影响是？",
                options: ["增强五行力量", "造成动荡、变化或损伤", "促进合化成功", "没有明显影响"],
                correct: 1,
                explanation: "天干相冲会造成命局的动荡、变化或损伤，代表不稳定因素。"
            },
            {
                question: '"戊癸合化"成什么五行？',
                options: ["木", "火", "土", "金"],
                correct: 1,
                explanation: "戊癸合化火。戊为阳土，癸为阴水，合化为火。"
            },
            {
                question: "天干相合即使没有月令支持，也一定能合化成功。",
                options: ["正确", "错误"],
                correct: 1,
                explanation: "错误。天干相合需要月令支持才能合化成功，否则只是相合的关系，不会发生化气。"
            },
            {
                question: "天干相冲会削弱被冲天干的力量，造成命局的不稳定。",
                options: ["正确", "错误"],
                correct: 0,
                explanation: "正确。天干相冲会削弱被冲天干的力量，导致命局出现不稳定因素。"
            }
        ];

        // Initialize QuizEngine when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize SCORM
            if (typeof scormAPI !== 'undefined') {
                scormAPI.initialize();
                scormAPI.setValue('cmi.location', 'quiz04');
            }

            // Initialize Quiz
            QuizEngine.init(quizQuestions);
        });

        // Handle page unload
        window.addEventListener('beforeunload', function() {
            if (typeof scormAPI !== 'undefined') {
                scormAPI.terminate();
            }
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第五章测验：地支合会刑冲克害</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/scorm_api.js"></script>
    <script src="js/quiz.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>第五章测验：地支合会刑冲克害</h1>
        </header>

        <main>
            <div id="quiz-container">
                <!-- Quiz questions will be rendered here by QuizEngine -->
            </div>

            <div id="quiz-results" style="display: none;">
                <!-- Results will be rendered here by QuizEngine -->
            </div>

            <div class="button-group">
                <button class="btn btn-primary" onclick="QuizEngine.submit()">提交答案</button>
                <button class="btn btn-secondary" onclick="QuizEngine.reset()">重新作答</button>
                <a href="module06.html" class="btn btn-success">下一章</a>
            </div>
        </main>
    </div>

    <script>
        // Quiz questions array
        const quizQuestions = [
            {
                question: '地支六冲中，"子"与哪个地支相冲？',
                options: ["丑", "午", "卯", "酉"],
                correct: 1,
                explanation: "子午相冲，属于六冲之一。子为正北水，午为正南火，方位对冲，水火相战。"
            },
            {
                question: '地支三合局中，"申子辰"合成什么局？',
                options: ["火局", "水局", "木局", "金局"],
                correct: 1,
                explanation: "申子辰三合水局。申为水的长生，子为水的帝旺，辰为水的墓库。"
            },
            {
                question: '地支六合中，"子"与哪个地支相合？',
                options: ["午", "丑", "亥", "未"],
                correct: 1,
                explanation: "子丑合化土，属于地支六合之一。"
            },
            {
                question: '"寅午戌"三合成什么局？',
                options: ["木局", "火局", "土局", "金局"],
                correct: 1,
                explanation: "寅午戌三合火局。寅为火的长生，午为火的帝旺，戌为火的墓库。"
            },
            {
                question: '地支六害中，"子未相害"的主要原因是什么？',
                options: ["方位对冲", "子与丑合，未冲丑而害子", "五行相克", "阴阳不和"],
                correct: 1,
                explanation: "子未相害是因为子与丑合，而未冲丑，破坏了子丑合，所以子未相害。"
            },
            {
                question: '地支相刑中，"寅巳申"属于什么刑？',
                options: ["无恩之刑", "无礼之刑", "恩将仇报之刑", "自刑"],
                correct: 0,
                explanation: "寅巳申为无恩之刑（或称持势之刑），三者循环相刑。"
            },
            {
                question: '"卯酉相冲"的主要特点是什么？',
                options: ["水火不容", "东西对冲，金木相战", "南北对冲", "土气相克"],
                correct: 1,
                explanation: "卯酉相冲是东西对冲，卯木（正东）与酉金（正西）相冲，金克木。"
            },
            {
                question: '"丑未戌"三刑属于什么刑？',
                options: ["恩将仇报之刑", "无礼之刑", "无恩之刑", "持势之刑"],
                correct: 3,
                explanation: "辰、戌、丑、未四土相刑，称为持势之刑（或称四库之刑）。"
            },
            {
                question: "地支三合局必须三个地支全部出现才能成局，缺一不可。",
                options: ["正确", "错误"],
                correct: 1,
                explanation: "错误。地支三合局可以有三个全部出现（三合全），也可以只有两个（半合局），半合也有一定力量。"
            },
            {
                question: "地支相冲会导致地支所代表的人、事、物发生变动、损伤或分离。",
                options: ["正确", "错误"],
                correct: 0,
                explanation: "正确。地支相冲代表冲突、变动、损伤或分离，影响地支所代表的六亲、宫位等。"
            }
        ];

        // Initialize QuizEngine when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize SCORM
            if (typeof scormAPI !== 'undefined') {
                scormAPI.initialize();
                scormAPI.setValue('cmi.location', 'quiz05');
            }

            // Initialize Quiz
            QuizEngine.init(quizQuestions);
        });

        // Handle page unload
        window.addEventListener('beforeunload', function() {
            if (typeof scormAPI !== 'undefined') {
                scormAPI.terminate();
            }
        });
    </script>
</body>
</html>
